<div *ngIf="!!weather">
  <div class="row">

    <div class="col-xs-4  col-md-4">
      <dl class="dl-horizontal">
        <dt>
          <i class="wi wi-fw wi-strong-wind"></i> Vind</dt>
        <dd></dd>
        <div *ngIf="!!weather.manual && !!weather.manual.wind">
          <div *ngIf="!!weather.manual.wind.max">
            <dt>Maks:</dt>
            <dd>{{ weather.manual.wind.max }} knop</dd>
          </div>
          <div *ngIf="!!weather.manual.wind.avg">
            <dt>Snitt:</dt>
            <dd>{{ weather.manual.wind.avg }} knop</dd>
          </div>
          <div *ngIf="!!weather.manual.wind.min">
            <dt>Min:</dt>
            <dd>{{ weather.manual.wind.min }} knop</dd>
          </div>
          <div *ngIf="!!weather.manual.wind.turbulence">
            <dt>Turbulens:</dt>
            <dd>{{ weather.manual.wind.tubulence ? 'JA' : 'NEI' }}</dd>
          </div>
          <div *ngIf="!!weather.manual.wind.gusting">
            <dt>Gusting:</dt>
            <dd>{{ weather.manual.wind.gusting ? 'JA' : 'NEI' }}</dd>
          </div>
        </div>
      </dl>
    </div>

    <div class="col-xs-4  col-md-4">
      <dl class="dl-horizontal">
        <dt>
          <i class="wi wi-fw wi-cloudy"></i> Skyer</dt>
        <dd></dd>
        <div *ngIf="!!weather.manual && !!weather.manual.clouds">
          <div *ngIf="!!weather.manual.clouds.base">
            <dt>Skybase:</dt>
            <dd>{{ weather.manual.clouds.base }} fot</dd>
          </div>
          <div *ngIf="!!weather.manual.clouds.rain">
            <dt>Regn:</dt>
            <dd>{{ weather.manual.clouds.rain ? 'JA' : 'NEI' }}</dd>
          </div>
          <div *ngIf="!!weather.manual.clouds.fog">
            <dt>Tåke:</dt>
            <dd>{{ weather.manual.clouds.fog ? 'JA' : 'NEI' }}</dd>
          </div>
          <div *ngIf="!!weather.manual.clouds.hail">
            <dt>Hagl:</dt>
            <dd>{{ weather.manual.clouds.hail ? 'JA' : 'NEI' }}</dd>
          </div>
          <div *ngIf="!!weather.manual.clouds.snow">
            <dt>Snø:</dt>
            <dd>{{ weather.manual.clouds.snow ? 'JA' : 'NEI' }}</dd>
          </div>
          <div *ngIf="!!weather.manual.clouds.thunder">
            <dt>Torden:</dt>
            <dd>{{ weather.manual.clouds.thunder ? 'JA' : 'NEI' }}</dd>
          </div>
        </div>
      </dl>
    </div>

    <div class="col-xs-4  col-md-4">
      <dl class="dl-horizontal">
        <dt>
          <i class="wi wi-fw wi-thermometer-exterior"></i> Temperatur</dt>
        <dd></dd>
        <div *ngIf="!!weather.manual && !!weather.manual.temp">
          <div *ngIf="!!weather.manual.temp.ground">
            <dt>Bakken:</dt>
            <dd>{{ weather.manual.temp.ground }}&deg;C</dd>
          </div>
          <div *ngIf="!!weather.manual.temp.altitude">
            <dt>Høyden:</dt>
            <dd>{{ weather.manual.temp.altitude }}&deg;C</dd>
          </div>
        </div>

      </dl>
    </div>

    <div class="col-xs-12  col-md-12">
      <div *ngIf="!!weather.manual">
        <div *ngIf="!!weather.manual.description">
          <strong>{{ weather.manual.description }}</strong>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
  <!-- AUTO FROM HERE -->

  <div class="row">

    <div class="col-md-8 col-xs-12 p-3">
      <p class="lead">Auto</p>
      <div class="p-3" *ngIf="!!weather.auto?.metar_nearest?.parsed" [innerHTML]="weather.auto.metar_nearest.parsed | newlines"></div>
    </div>

    <div class="col-md-4 col-xs-12 p-3 align-text-bottom">
      <div>
        <button (click)="openModal(autoModal, 'metar')" [ngClass]="!!weather.auto.metar ? 'btn-success': 'btn-secondary'" class="btn btn-block my-1">METAR</button>
      </div>
      <div>
        <button (click)="openModal(autoModal, 'taf')" [ngClass]="!!weather.auto.taf ? 'btn-success': 'btn-secondary'" class="btn btn-block my-1">TAF</button>
      </div>
      <div>
        <button (click)="openModal(autoModal, 'yr')" [ngClass]="!!weather.auto.yr ? 'btn-success': 'btn-secondary'" class="btn btn-block my-1">YR</button>
      </div>
    </div>

  </div>
</div>

<ng-template #autoModal>

  <div class="modal-header">
    <h4 class="modal-title pull-left">
      {{ modal.title | upperfirst }}
    </h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <div *ngFor="let row of modal.data">
      {{ row }}
    </div>
  </div>

  <div class="modal-footer">
    <button (click)="modalRef.dismiss()" class="btn btn-outline-dark">Ferdig</button>
  </div>
</ng-template>
